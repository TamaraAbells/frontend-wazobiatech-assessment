{"ast":null,"code":"import axios from 'axios';\nimport { mapActions } from \"redux-vuex\";\nexport const methods = mapActions({\n  async onVerifyAccount({\n    dispatch,\n    getState\n  }, verifyToken) {\n    const state = await getState();\n    console.log('STTATE', state);\n\n    if (state.isVerifiedAt) {\n      dispatch({\n        type: 'IS_LOADED'\n      });\n    } else {\n      await axios.post('/me/verify', {\n        token: verifyToken\n      }, {\n        headers: {\n          Authorization: `Bearer ${state.authToken}`\n        }\n      }).then(({\n        data\n      }) => {\n        dispatch({\n          type: 'VERIFY_ACCOUNT',\n          payload: data.user\n        });\n        dispatch({\n          type: 'IS_LOADED'\n        });\n      });\n    }\n  }\n\n}); // export async function fetchCurrentUser({ dispatch, getState }){\n//     const state = getState()\n//     console.log('state', state)\n//     if(state.authToken){\n//       axios.get('/me', {\n//         headers: {Authorization: `Bearer ${state.authToken}`}\n//       }).then(({ data }) => {\n//         dispatch({ type: 'CURRENT_USER', payload: data.user })\n//         console.log('DATA', data)\n//       })\n//     }\n//   }","map":{"version":3,"names":["axios","mapActions","methods","onVerifyAccount","dispatch","getState","verifyToken","state","console","log","isVerifiedAt","type","post","token","headers","Authorization","authToken","then","data","payload","user"],"sources":["/Users/user/Documents/GitHub/frontend-eng-assessment/src/http/index.js"],"sourcesContent":["import axios from 'axios'\nimport { mapActions } from \"redux-vuex\"\n\nexport const methods = mapActions({\n    async onVerifyAccount({ dispatch, getState  }, verifyToken) {\n      const state = await getState()\n      console.log('STTATE', state)\n      if(state.isVerifiedAt){\n      dispatch({ type: 'IS_LOADED' })\n      } else {\n        await axios.post('/me/verify', {token: verifyToken}, {\n          headers: {Authorization: `Bearer ${state.authToken}`}\n        }).then(({ data }) => {\n          dispatch({ type: 'VERIFY_ACCOUNT', payload: data.user })\n          dispatch({ type: 'IS_LOADED' })\n        })\n      }\n    }\n  })\n\n// export async function fetchCurrentUser({ dispatch, getState }){\n//     const state = getState()\n//     console.log('state', state)\n//     if(state.authToken){\n//       axios.get('/me', {\n//         headers: {Authorization: `Bearer ${state.authToken}`}\n//       }).then(({ data }) => {\n//         dispatch({ type: 'CURRENT_USER', payload: data.user })\n//         console.log('DATA', data)\n//       })\n//     }\n//   }"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,YAA3B;AAEA,OAAO,MAAMC,OAAO,GAAGD,UAAU,CAAC;EAC9B,MAAME,eAAN,CAAsB;IAAEC,QAAF;IAAYC;EAAZ,CAAtB,EAA+CC,WAA/C,EAA4D;IAC1D,MAAMC,KAAK,GAAG,MAAMF,QAAQ,EAA5B;IACAG,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,KAAtB;;IACA,IAAGA,KAAK,CAACG,YAAT,EAAsB;MACtBN,QAAQ,CAAC;QAAEO,IAAI,EAAE;MAAR,CAAD,CAAR;IACC,CAFD,MAEO;MACL,MAAMX,KAAK,CAACY,IAAN,CAAW,YAAX,EAAyB;QAACC,KAAK,EAAEP;MAAR,CAAzB,EAA+C;QACnDQ,OAAO,EAAE;UAACC,aAAa,EAAG,UAASR,KAAK,CAACS,SAAU;QAA1C;MAD0C,CAA/C,EAEHC,IAFG,CAEE,CAAC;QAAEC;MAAF,CAAD,KAAc;QACpBd,QAAQ,CAAC;UAAEO,IAAI,EAAE,gBAAR;UAA0BQ,OAAO,EAAED,IAAI,CAACE;QAAxC,CAAD,CAAR;QACAhB,QAAQ,CAAC;UAAEO,IAAI,EAAE;QAAR,CAAD,CAAR;MACD,CALK,CAAN;IAMD;EACF;;AAd6B,CAAD,CAA1B,C,CAiBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}