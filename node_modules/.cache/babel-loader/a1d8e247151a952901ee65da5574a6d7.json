{"ast":null,"code":"import { createStore, combineReducers, applyMiddleware } from 'redux';\nexport default {\n  install: Vue => {\n    Vue.mixin({\n      beforeCreate: reduxMixin\n    });\n  }\n};\n\nfunction reduxMixin() {\n  if (this.$root.$options.store) {\n    this.dispatch = action => {\n      let getState = this.$root.$options.store.getState;\n      let dispatch = this.$root.$options.store.dispatch;\n\n      if (typeof action === 'function') {\n        action(this.dispatch.bind(this), getState);\n      } else {\n        // const oldState = this.mapReduxState(getState());\n        dispatch(action);\n        const newState = this.mapReduxState(getState()); // if ((this.shouldVueUpdate && \n        //   typeof this.shouldVueUpdate === 'function' && \n        //   this.shouldVueUpdate(newState, oldState)) || !this.shouldVueUpdate) {\n        //   updateState.call(this);\n        // } else {\n\n        Object.keys(newState).forEach(prop => {\n          this[prop] = newState[prop];\n        }); // }\n      }\n    };\n\n    updateState.call(this);\n  }\n}\n\nfunction updateState() {\n  if (this.mapReduxState && typeof this.mapReduxState === 'function') {\n    const state = this.mapReduxState(this.$root.$options.store.getState());\n    Object.keys(state).forEach(prop => {\n      this.$set(this, prop, state[prop]);\n    });\n  }\n}\n\nexport function makeReduxStore(reducers, middlewares) {\n  const reduces = combineReducers(reducers);\n  let _middleware = undefined;\n\n  if (middlewares && Array.isArray(middlewares)) {\n    _middleware = applyMiddleware(...middlewares);\n  }\n\n  let store = createStore(reduces, _middleware);\n  return store;\n}","map":{"version":3,"names":["createStore","combineReducers","applyMiddleware","install","Vue","mixin","beforeCreate","reduxMixin","$root","$options","store","dispatch","action","getState","bind","newState","mapReduxState","Object","keys","forEach","prop","updateState","call","state","$set","makeReduxStore","reducers","middlewares","reduces","_middleware","undefined","Array","isArray"],"sources":["/Users/user/Documents/GitHub/frontend-eng-assessment/node_modules/vue-with-redux/src/index.js"],"sourcesContent":["import { createStore, combineReducers, applyMiddleware } from 'redux';\n\nexport default {\n  install: (Vue) => {\n    Vue.mixin({\n      beforeCreate: reduxMixin\n    })\n  }\n};\n\nfunction reduxMixin() {\n  if (this.$root.$options.store) {\n    this.dispatch = (action) => {\n      let getState = this.$root.$options.store.getState;\n      let dispatch = this.$root.$options.store.dispatch;\n      if (typeof action === 'function') {\n        action(this.dispatch.bind(this), getState);\n      } else {\n        // const oldState = this.mapReduxState(getState());\n        dispatch(action);\n        const newState = this.mapReduxState(getState());\n        // if ((this.shouldVueUpdate && \n        //   typeof this.shouldVueUpdate === 'function' && \n        //   this.shouldVueUpdate(newState, oldState)) || !this.shouldVueUpdate) {\n        //   updateState.call(this);\n        // } else {\n          Object.keys(newState).forEach( (prop) => {\n            this[prop] = newState[prop];\n          })\n        // }\n      }\n    };\n    updateState.call(this);\n  } \n}\n\nfunction updateState() {\n  if (this.mapReduxState && typeof this.mapReduxState === 'function') {\n    const state = this.mapReduxState(this.$root.$options.store.getState());\n    Object.keys(state).forEach( (prop) => {\n      this.$set(this, prop, state[prop]);\n    })\n  }\n}\n\nexport function makeReduxStore(reducers, middlewares) {\n  const reduces = combineReducers(reducers);\n  let _middleware = undefined;\n  if (middlewares && Array.isArray(middlewares)) {\n    _middleware = applyMiddleware(...middlewares);\n  }\n  let store = createStore(reduces, _middleware);\n  return store;\n}\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,eAAvC,QAA8D,OAA9D;AAEA,eAAe;EACbC,OAAO,EAAGC,GAAD,IAAS;IAChBA,GAAG,CAACC,KAAJ,CAAU;MACRC,YAAY,EAAEC;IADN,CAAV;EAGD;AALY,CAAf;;AAQA,SAASA,UAAT,GAAsB;EACpB,IAAI,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,KAAxB,EAA+B;IAC7B,KAAKC,QAAL,GAAiBC,MAAD,IAAY;MAC1B,IAAIC,QAAQ,GAAG,KAAKL,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BG,QAAzC;MACA,IAAIF,QAAQ,GAAG,KAAKH,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BC,QAAzC;;MACA,IAAI,OAAOC,MAAP,KAAkB,UAAtB,EAAkC;QAChCA,MAAM,CAAC,KAAKD,QAAL,CAAcG,IAAd,CAAmB,IAAnB,CAAD,EAA2BD,QAA3B,CAAN;MACD,CAFD,MAEO;QACL;QACAF,QAAQ,CAACC,MAAD,CAAR;QACA,MAAMG,QAAQ,GAAG,KAAKC,aAAL,CAAmBH,QAAQ,EAA3B,CAAjB,CAHK,CAIL;QACA;QACA;QACA;QACA;;QACEI,MAAM,CAACC,IAAP,CAAYH,QAAZ,EAAsBI,OAAtB,CAAgCC,IAAD,IAAU;UACvC,KAAKA,IAAL,IAAaL,QAAQ,CAACK,IAAD,CAArB;QACD,CAFD,EATG,CAYL;MACD;IACF,CAnBD;;IAoBAC,WAAW,CAACC,IAAZ,CAAiB,IAAjB;EACD;AACF;;AAED,SAASD,WAAT,GAAuB;EACrB,IAAI,KAAKL,aAAL,IAAsB,OAAO,KAAKA,aAAZ,KAA8B,UAAxD,EAAoE;IAClE,MAAMO,KAAK,GAAG,KAAKP,aAAL,CAAmB,KAAKR,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BG,QAA1B,EAAnB,CAAd;IACAI,MAAM,CAACC,IAAP,CAAYK,KAAZ,EAAmBJ,OAAnB,CAA6BC,IAAD,IAAU;MACpC,KAAKI,IAAL,CAAU,IAAV,EAAgBJ,IAAhB,EAAsBG,KAAK,CAACH,IAAD,CAA3B;IACD,CAFD;EAGD;AACF;;AAED,OAAO,SAASK,cAAT,CAAwBC,QAAxB,EAAkCC,WAAlC,EAA+C;EACpD,MAAMC,OAAO,GAAG3B,eAAe,CAACyB,QAAD,CAA/B;EACA,IAAIG,WAAW,GAAGC,SAAlB;;EACA,IAAIH,WAAW,IAAII,KAAK,CAACC,OAAN,CAAcL,WAAd,CAAnB,EAA+C;IAC7CE,WAAW,GAAG3B,eAAe,CAAC,GAAGyB,WAAJ,CAA7B;EACD;;EACD,IAAIjB,KAAK,GAAGV,WAAW,CAAC4B,OAAD,EAAUC,WAAV,CAAvB;EACA,OAAOnB,KAAP;AACD"},"metadata":{},"sourceType":"module"}