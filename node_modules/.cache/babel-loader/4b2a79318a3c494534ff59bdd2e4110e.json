{"ast":null,"code":"import { inject, onBeforeUnmount, shallowReactive, toRefs } from 'vue';\nconst OptionsSymbol = Symbol();\n/**\n * @param {*} v\n * @returns {*}\n */\n\nconst identity = v => v;\n/**\n * @param {Object} app\n * @param {Object} options\n * @param {Object} options.store\n * @param {Function} [options.mapDispatchToPropsFactory]\n * @param {Function} [options.mapStateToPropsFactory]\n */\n\n\nexport default {\n  install(app, {\n    mapDispatchToPropsFactory = identity,\n    mapStateToPropsFactory = identity,\n    store\n  }) {\n    app.provide(OptionsSymbol, {\n      mapDispatchToPropsFactory,\n      mapStateToPropsFactory,\n      store\n    });\n  }\n\n};\n/**\n * @param {*} mapDispatchToProps\n * @returns {Object}\n */\n\nexport const useActions = mapDispatchToProps => {\n  const {\n    mapDispatchToPropsFactory,\n    store\n  } = inject(OptionsSymbol);\n  return mapDispatchToPropsFactory(mapDispatchToProps)(store.dispatch);\n};\n/**\n * @param {*} mapStateToProps\n * @returns {Object}\n */\n\nexport const useState = mapStateToProps => {\n  const {\n    mapStateToPropsFactory,\n    store\n  } = inject(OptionsSymbol);\n  const mapStateToPropsFinal = mapStateToPropsFactory(mapStateToProps);\n  const state = shallowReactive(mapStateToPropsFinal(store.getState()));\n  onBeforeUnmount(store.subscribe(() => {\n    const next = mapStateToPropsFinal(store.getState());\n    Object.keys(next).forEach(key => {\n      state[key] = next[key];\n    });\n  }));\n  return toRefs(state);\n};","map":{"version":3,"names":["inject","onBeforeUnmount","shallowReactive","toRefs","OptionsSymbol","Symbol","identity","v","install","app","mapDispatchToPropsFactory","mapStateToPropsFactory","store","provide","useActions","mapDispatchToProps","dispatch","useState","mapStateToProps","mapStateToPropsFinal","state","getState","subscribe","next","Object","keys","forEach","key"],"sources":["/Users/user/Documents/GitHub/frontend-eng-assessment/node_modules/redux-connect-vue/src/index.js"],"sourcesContent":["import { inject, onBeforeUnmount, shallowReactive, toRefs } from 'vue';\n\nconst OptionsSymbol = Symbol();\n\n/**\n * @param {*} v\n * @returns {*}\n */\nconst identity = (v) => v;\n\n/**\n * @param {Object} app\n * @param {Object} options\n * @param {Object} options.store\n * @param {Function} [options.mapDispatchToPropsFactory]\n * @param {Function} [options.mapStateToPropsFactory]\n */\nexport default {\n\tinstall(app, {\n\t\tmapDispatchToPropsFactory = identity,\n\t\tmapStateToPropsFactory = identity,\n\t\tstore\n\t}) {\n\t\tapp.provide(OptionsSymbol, {\n\t\t\tmapDispatchToPropsFactory,\n\t\t\tmapStateToPropsFactory,\n\t\t\tstore\n\t\t});\n\t}\n};\n\n/**\n * @param {*} mapDispatchToProps\n * @returns {Object}\n */\nexport const useActions = (mapDispatchToProps) => {\n\tconst { mapDispatchToPropsFactory, store } = inject(OptionsSymbol);\n\n\treturn mapDispatchToPropsFactory(mapDispatchToProps)(store.dispatch);\n};\n\n/**\n * @param {*} mapStateToProps\n * @returns {Object}\n */\nexport const useState = (mapStateToProps) => {\n\tconst { mapStateToPropsFactory, store } = inject(OptionsSymbol);\n\tconst mapStateToPropsFinal = mapStateToPropsFactory(mapStateToProps);\n\tconst state = shallowReactive(mapStateToPropsFinal(store.getState()));\n\n\tonBeforeUnmount(store.subscribe(() => {\n\t\tconst next = mapStateToPropsFinal(store.getState());\n\n\t\tObject.keys(next).forEach((key) => {\n\t\t\tstate[key] = next[key];\n\t\t});\n\t}));\n\n\treturn toRefs(state);\n};\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,eAAjB,EAAkCC,eAAlC,EAAmDC,MAAnD,QAAiE,KAAjE;AAEA,MAAMC,aAAa,GAAGC,MAAM,EAA5B;AAEA;AACA;AACA;AACA;;AACA,MAAMC,QAAQ,GAAIC,CAAD,IAAOA,CAAxB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAe;EACdC,OAAO,CAACC,GAAD,EAAM;IACZC,yBAAyB,GAAGJ,QADhB;IAEZK,sBAAsB,GAAGL,QAFb;IAGZM;EAHY,CAAN,EAIJ;IACFH,GAAG,CAACI,OAAJ,CAAYT,aAAZ,EAA2B;MAC1BM,yBAD0B;MAE1BC,sBAF0B;MAG1BC;IAH0B,CAA3B;EAKA;;AAXa,CAAf;AAcA;AACA;AACA;AACA;;AACA,OAAO,MAAME,UAAU,GAAIC,kBAAD,IAAwB;EACjD,MAAM;IAAEL,yBAAF;IAA6BE;EAA7B,IAAuCZ,MAAM,CAACI,aAAD,CAAnD;EAEA,OAAOM,yBAAyB,CAACK,kBAAD,CAAzB,CAA8CH,KAAK,CAACI,QAApD,CAAP;AACA,CAJM;AAMP;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,eAAD,IAAqB;EAC5C,MAAM;IAAEP,sBAAF;IAA0BC;EAA1B,IAAoCZ,MAAM,CAACI,aAAD,CAAhD;EACA,MAAMe,oBAAoB,GAAGR,sBAAsB,CAACO,eAAD,CAAnD;EACA,MAAME,KAAK,GAAGlB,eAAe,CAACiB,oBAAoB,CAACP,KAAK,CAACS,QAAN,EAAD,CAArB,CAA7B;EAEApB,eAAe,CAACW,KAAK,CAACU,SAAN,CAAgB,MAAM;IACrC,MAAMC,IAAI,GAAGJ,oBAAoB,CAACP,KAAK,CAACS,QAAN,EAAD,CAAjC;IAEAG,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,OAAlB,CAA2BC,GAAD,IAAS;MAClCP,KAAK,CAACO,GAAD,CAAL,GAAaJ,IAAI,CAACI,GAAD,CAAjB;IACA,CAFD;EAGA,CANe,CAAD,CAAf;EAQA,OAAOxB,MAAM,CAACiB,KAAD,CAAb;AACA,CAdM"},"metadata":{},"sourceType":"module"}