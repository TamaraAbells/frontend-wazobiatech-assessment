{"ast":null,"code":"import Vue from 'vue';\nimport * as TYPES from '../actions/types';\nconst getToken = Vue.$cookies.set('authToken') || '';\nconst initialState = {\n  isOpen: false,\n  isShow: false,\n  isLoading: true,\n  isLoggedIn: false,\n  isVerifiedAt: '',\n  verifyToken: '',\n  currentUser: {},\n  authToken: getToken,\n  register: {\n    email: '',\n    password: '',\n    fname: '',\n    lname: ''\n  },\n  item: {},\n  items: []\n};\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case TYPES.OPEN_MODAL:\n      return { ...state,\n        isOpen: true\n      };\n\n    case TYPES.CLOSE_MODAL:\n      state.item = {};\n      return { ...state,\n        isOpen: false\n      };\n\n    case TYPES.SHOW_PASSWORD:\n      return { ...state,\n        isShow: !state.isShow\n      };\n\n    case TYPES.IS_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case TYPES.IS_LOADED:\n      return { ...state,\n        isLoading: false\n      };\n\n    case TYPES.FETCH_ALL_ITEMS:\n      {\n        return { ...state,\n          items: action.payload,\n          isLoading: false\n        };\n      }\n\n    case TYPES.REMOVE_ITEM:\n      {\n        const filtered = state.items.filter(item => item.uuid !== action.payload);\n        return { ...state,\n          items: filtered,\n          isLoading: false\n        };\n      }\n\n    case TYPES.ADD_ITEM:\n      {\n        state.item = {};\n        return { ...state,\n          items: [action.payload, ...state.items],\n          isOpen: false,\n          isLoading: false\n        };\n      }\n\n    case TYPES.EDIT_ITEM:\n      {\n        // state.item = {}\n        return { ...state,\n          item: action.payload,\n          isOpen: true\n        };\n      }\n\n    case TYPES.UPDATE_ITEM:\n      {\n        state.item = {};\n        const index = state.items.findIndex(i => i.id === action.payload.id);\n        state.items[index] = action.payload;\n        return { ...state,\n          isOpen: false,\n          isLoading: false\n        };\n      }\n\n    case TYPES.REGISTER:\n      {\n        localStorage.setItem('authToken', authToken);\n        Vue.$cookies.set('authToken', authToken, '3D');\n        const {\n          authToken,\n          currentUser\n        } = action.payload;\n        return { ...state,\n          authToken,\n          currentUser,\n          isLoggedIn: true\n        };\n      }\n\n    case TYPES.LOGIN:\n      {\n        const {\n          authToken,\n          currentUser\n        } = action.payload;\n        console.log('LOGIN_COOKOE', Vue.$cookies);\n        Vue.$cookies.set('authToken', authToken, '3D'); // localStorage.setItem('authToken', authToken)\n\n        return { ...state,\n          authToken,\n          currentUser,\n          isLoggedIn: true\n        };\n      }\n\n    case TYPES.LOGOUT:\n      {\n        localStorage.removeItem('authToken');\n        return { ...state,\n          authToken: '',\n          currentUser: '',\n          isLoggedIn: false\n        };\n      }\n\n    case TYPES.CURRENT_USER:\n      {\n        return { ...state,\n          isLoggedIn: true,\n          currentUser: action.payload,\n          isVerifiedAt: action.payload.email_verified_at,\n          verifyToken: action.payload.email_verification_token\n        };\n      }\n\n    case TYPES.VERIFY_ACCOUNT:\n      {\n        return { ...state,\n          currentUser: action.payload,\n          isVerifiedAt: action.payload.email_verified_at\n        };\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["Vue","TYPES","getToken","$cookies","set","initialState","isOpen","isShow","isLoading","isLoggedIn","isVerifiedAt","verifyToken","currentUser","authToken","register","email","password","fname","lname","item","items","reducer","state","action","type","OPEN_MODAL","CLOSE_MODAL","SHOW_PASSWORD","IS_LOADING","IS_LOADED","FETCH_ALL_ITEMS","payload","REMOVE_ITEM","filtered","filter","uuid","ADD_ITEM","EDIT_ITEM","UPDATE_ITEM","index","findIndex","i","id","REGISTER","localStorage","setItem","LOGIN","console","log","LOGOUT","removeItem","CURRENT_USER","email_verified_at","email_verification_token","VERIFY_ACCOUNT"],"sources":["/Users/user/Documents/GitHub/frontend-eng-assessment/src/redux/reducers/reducer.js"],"sourcesContent":["import Vue from 'vue'\nimport * as TYPES from '../actions/types'\n\nconst getToken = Vue.$cookies.set('authToken') || ''\n\nconst initialState = {\n  isOpen: false,\n  isShow: false,\n  isLoading: true,\n  isLoggedIn: false,\n  isVerifiedAt: '',\n  verifyToken: '',\n  currentUser: {},\n  authToken: getToken,\n  register: {\n    email: '',\n    password: '',\n    fname: '',\n    lname: '',\n  },\n  item: {},\n  items: []\n}\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case TYPES.OPEN_MODAL:\n      return {...state, isOpen: true}\n\n    case TYPES.CLOSE_MODAL:\n      state.item = {}\n      return {...state, isOpen: false}\n\n    case TYPES.SHOW_PASSWORD:\n      return {...state, isShow: !state.isShow}\n\n    case TYPES.IS_LOADING:\n      return {...state, isLoading: true}\n\n    case TYPES.IS_LOADED:\n      return {...state, isLoading: false}\n\n    case TYPES.FETCH_ALL_ITEMS: {\n      return {\n        ...state,\n        items: action.payload,\n        isLoading: false\n      }\n    }\n    \n    case TYPES.REMOVE_ITEM: {\n      const filtered = state.items.filter((item) => (\n        item.uuid !== action.payload\n      ))\n      return {\n        ...state,\n        items: filtered,\n        isLoading: false\n      }\n    }\n\n    case TYPES.ADD_ITEM: {\n      state.item = {}\n      return {\n        ...state,\n        items: [action.payload, ...state.items],\n        isOpen: false,\n        isLoading: false\n      }\n    }\n\n    case TYPES.EDIT_ITEM: {\n      // state.item = {}\n      return {\n        ...state,\n        item: action.payload,\n        isOpen: true\n      }\n    }\n\n    case TYPES.UPDATE_ITEM: {\n      state.item = {}\n      const index = state.items.findIndex(i => i.id === action.payload.id)\n      state.items[index] = action.payload\n      return {\n        ...state,\n        isOpen: false,\n        isLoading: false\n      }\n    }\n\n    case TYPES.REGISTER: {\n      localStorage.setItem('authToken', authToken)\n      Vue.$cookies.set('authToken', authToken, '3D')\n      const {authToken, currentUser}  = action.payload\n      return {...state,  authToken, currentUser, isLoggedIn: true}\n    }\n\n    case TYPES.LOGIN: {\n      const {authToken, currentUser}  = action.payload\n      console.log('LOGIN_COOKOE', Vue.$cookies)\n      Vue.$cookies.set('authToken', authToken, '3D')\n      // localStorage.setItem('authToken', authToken)\n      return {...state, authToken, currentUser, isLoggedIn: true}\n    }\n\n    case TYPES.LOGOUT: {\n      localStorage.removeItem('authToken')\n      return {...state,\n        authToken: '',\n        currentUser: '',\n        isLoggedIn: false\n      }\n    }\n\n    case TYPES.CURRENT_USER: {\n      return {\n        ...state,\n        isLoggedIn: true,\n        currentUser: action.payload,\n        isVerifiedAt: action.payload.email_verified_at,\n        verifyToken: action.payload.email_verification_token\n      }\n    }\n\n    case TYPES.VERIFY_ACCOUNT: {\n      return {\n        ...state,\n        currentUser: action.payload,\n        isVerifiedAt: action.payload.email_verified_at\n      }\n    }\n\n    default:\n      return state\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}